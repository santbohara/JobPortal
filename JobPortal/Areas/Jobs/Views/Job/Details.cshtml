@model JobPortal.Areas.Jobs.ViewModel.JobViewModel

@{
    ViewData["Title"] = "Job Details";
    ViewData["ActiveNav"] = "Jobs";
}

<div class="d-flex justify-content-between">
    <div class="pt-3">
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item">Dashboard</li>
                <li class="breadcrumb-item">Jobs</li>
                <li class="breadcrumb-item">@ViewData["Title"]</li>
            </ol>
        </nav>
    </div>
    <div>
        <a asp-action="Index" class="nav-link pb-3 px-0">Back <i class="bi bi-arrow-right-short"></i></a>
    </div>
</div>

<div class="col-md-12">

    <partial name="_Alert" />

    @Html.ValidationSummary()

    <div>

        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="info-tab" data-bs-toggle="tab" data-bs-target="#Info" type="button" role="tab" aria-selected="true">Info</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="Description-tab" data-bs-toggle="tab" data-bs-target="#Description" type="button" role="tab" aria-selected="false">Description</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="Specification-tab" data-bs-toggle="tab" data-bs-target="#Specification" type="button" role="tab" aria-selected="false">Specification</button>
            </li>
        </ul>

    </div>

    <div class="tab-content">

        <div class="tab-pane fade show active" id="Info" role="tabpanel">

            <div class="card card-tab shadow-none">

                <div class="card-body border-bottom border-2 border-success">

                    <div class="row">

                        <h6 class="fw-bold">
                            <i class="bi bi-briefcase"></i> @Model.Title <a href="#" class="clipboard-button" data-clipboard-text="@ViewData["BaseUrl"]/apply/@Model.Slug"><i class="fa-regular fa-share-from-square"></i></a>
                        </h6>

                        <div class="col-md-6 mb-3">

                            <div class="py-1">
                                <div class="row">
                                    <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                        <div>Published Date</div>
                                        <div>:</div>
                                    </div>

                                    <div class="col-md-8">
                                        @Model.CreatedAt
                                    </div>
                                </div>
                            </div>

                            <div class="py-1">
                                <div class="row">
                                    <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                        <div>Expire Date</div>
                                        <div>:</div>
                                    </div>

                                    <div class="col-md-8">
                                        @Model.ExpireDate
                                    </div>
                                </div>
                            </div>

                            <div class="py-1">
                                <div class="row">
                                   <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                        <div>Status</div>
                                        <div>:</div>
                                    </div>

                                    <div class="col-md-8">
                                        @if (Model.IsPublished == true)
                                        {
                                            @if (Model.ExpireDate < DateTime.Today)
                                            {
                                                <span class="badge bg-warning">Expired</span>
                                            }
                                            else
                                            {
                                                <span class="badge bg-success">Active</span>
                                            }
                                        }
                                        else
                                        {
                                            <span class="badge bg-info">Not Publised</span>
                                        }
                                    </div>
                                </div>
                                <hr />
                                <div class="py-1">
                                    <div class="row">
                                        <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                            <div>Total Views</div>
                                            <div>:</div>
                                        </div>

                                        <div class="col-md-8">
                                        </div>
                                    </div>
                                </div>

                                <div class="py-1">
                                    <div class="row">
                                        <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                            <div>Total Application Received</div>
                                            <div>:</div>
                                        </div>

                                        <div class="col-md-8">
                                        </div>
                                    </div>
                                </div>

                                <div class="py-1">
                                    <div class="row">
                                        <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                            <div>Total Rejected Application</div>
                                            <div>:</div>
                                        </div>

                                        <div class="col-md-8">
                                        </div>
                                    </div>
                                </div>

                                <div class="py-1">
                                    <div class="row">
                                        <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                            <div>Total Selected</div>
                                            <div>:</div>
                                        </div>

                                        <div class="col-md-8">
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="col-md-6 mb-3">
                            <div class="p-2 bg-secondary-light rounded">
                                <div class="row mb-1">
                                    <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                        <div>Job Category</div>
                                        <div>:</div>
                                    </div>
                                    <div class="col-md-8">@Model.Category</div>
                                </div>
                                <div class="row mb-1">
                                    <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                        <div>Job Qualification </div>
                                        <div>:</div>
                                    </div>
                                    <div class="col-md-8">@Model.JobQualification</div>
                                </div>
                                <div class="row mb-1">
                                    <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                        <div>Job Type</div>
                                        <div>:</div>
                                    </div>
                                    <div class="col-md-8">@Model.JobType</div>
                                </div>
                                <div class="row mb-1">
                                    <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                        <div>Salary Type</div>
                                        <div>:</div>
                                    </div>
                                    <div class="col-md-8">@Model.SalaryType</div>
                                </div>
                                <div class="row mb-1">
                                    <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                        <div>Salary Range</div>
                                        <div>:</div>
                                    </div>
                                    <div class="col-md-8">@Model.SalaryRange</div>
                                </div>
                                <div class="row mb-1">
                                    <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                        <div>Job Experience</div>
                                        <div>:</div>
                                    </div>
                                    <div class="col-md-8">@Model.JobExperience</div>
                                </div>
                                <div class="row mb-1">
                                    <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                        <div>Job Shift</div>
                                        <div>:</div>
                                    </div>
                                    <div class="col-md-8">@Model.JobShift</div>
                                </div>
                                <div class="row mb-1">
                                    <div class="col-md-4 d-flex justify-content-sm-start justify-content-md-between">
                                        <div>Job Level</div>
                                        <div>:</div>
                                    </div>
                                    <div class="col-md-8">@Model.JobLevel</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="Description" role="tabpanel">

            <div class="card card-tab shadow-none">

                <div class="card-body border-bottom border-2 border-success">

                    <div class="mb-3 col-md-12">

                        @Html.Raw(HttpUtility.HtmlDecode(Model.JobDescription))

                    </div>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="Specification" role="tabpanel">

            <div class="card card-tab shadow-none">

                <div class="card-body border-bottom border-2 border-success">

                    <div class="mb-3 col-md-12">

                        @Html.Raw(HttpUtility.HtmlDecode(Model.JobSpecification))

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-3 card">

        <div class="card-header">

            <label class="fw-bold"><i class="bi bi-card-list"></i> Job Application</label>

        </div>

        <div class="card-body table-responsive">

            <table class="table table-report">
                <thead>
                    <tr>
                        <th>SN</th>
                        <th>Applicant Name</th>
                        <th>Mobile Number</th>
                        <th>Applied Date Name</th>
                        <th>Current Status</th>
                        <th>Files</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>

</div>

@section scripts{
    <script>
        $(function() {
            $('.table-report').DataTable({
                "aLengthMenu": [[25, 50, 100, -1], [25, 50, 100, "All"]],
                "paging": true,
                "lengthChange": true,
                "searching": true,
                "ordering": true,
                "autoWidth": true
            });
        });
    </script>
    <script>
        var clipboard = new ClipboardJS('.clipboard-button');
        clipboard.on('success', function(e) {
            $.toast({
                text: 'Link copied to clipboard!',
                position: 'bottom-right',
                icon: 'success',
                showHideTransition: 'slide',
                stack: 2
            })
        });
    </script>
}